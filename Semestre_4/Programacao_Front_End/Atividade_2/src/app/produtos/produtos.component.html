<div class="container border shadow rounded-4 mt-5 p-2">
  <div class="row mt-3">
    <div class="col">
      <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3">
        @if (produtos.length === 0) {
        <p class="text-center">Nenhum produto encontrado.</p>
        } @else {
        @for (produto of produtos; track produto.id) {
        <div class="col">
          <div class="card h-100 product-card">
            <div class="card-body d-flex flex-column">
              <h5 class="card-title mb-1">{{ produto.nome }}</h5>
              <p class="card-subtitle text-muted mb-2">R${{ produto.preco}}</p>
              <div class="mt-auto d-flex justify-content-between align-items-center">
                <small [ngClass]="{'text-success': produto.emEstoque, 'text-danger': !produto.emEstoque}">
                  {{ produto.emEstoque ? 'Em estoque' : 'Esgotado' }}
                </small>
                <div>
                  <button class="btn btn-sm btn-primary me-2" [routerLink]="['/produto-detalhe', produto.id]" [ngStyle]="{'opacity': produto.emEstoque ? 1 : 0.5}" [disabled]="!produto.emEstoque">Comprar</button>
                </div>
              </div>
            </div>
          </div>
        </div>
        }
        }
      </div>
    </div>
  </div>
</div>
