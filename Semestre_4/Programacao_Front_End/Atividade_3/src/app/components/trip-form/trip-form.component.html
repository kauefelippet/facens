<form [formGroup]="form" (ngSubmit)="submit()" class="p-4 border rounded-4 shadow-sm bg-light">
  <div class="mb-3">
    <label for="destino" class="form-label fw-semibold">
      <i class="bi bi-geo-alt me-1"></i> Destino
    </label>
    <select id="destino" class="form-select" formControlName="destino">
      <option value="">-- selecione --</option>
      @for (d of destinos; track $index) {
      <option [value]="d">{{ d }}</option>
      }
    </select>
    @if (form.controls['destino'].touched && form.controls['destino'].invalid) {
    <div class="text-danger small mt-1">
      <i class="bi bi-exclamation-circle"></i> O destino é obrigatório.
    </div>
    }
  </div>

  <div class="mb-3">
    <label for="dataIda" class="form-label fw-semibold">
      <i class="bi bi-arrow-right me-1"></i> Data de Ida
    </label>
    <input id="dataIda" type="date" class="form-control" formControlName="dataIda" />
    @if (form.controls['dataIda'].touched && form.controls['dataIda'].invalid) {
    <div class="text-danger small mt-1">
      <i class="bi bi-exclamation-circle"></i> A data de ida é obrigatória.
    </div>
    }
  </div>

  <div class="mb-3">
    <label for="dataVolta" class="form-label fw-semibold">
      <i class="bi bi-arrow-left me-1"></i> Data de Volta
    </label>
    <input id="dataVolta" type="date" class="form-control" formControlName="dataVolta" />

    @if ((form.controls['dataVolta'].touched && form.controls['dataVolta'].invalid) ||
    (form.touched && form.errors?.['datasInvalidas'])) {
    <div class="text-danger small mt-1">
      @if (form.controls['dataVolta'].errors?.['required']) {
      <div><i class="bi bi-exclamation-circle"></i> A data de volta é obrigatória.</div>
      }
      @if (form.errors?.['datasInvalidas']) {
      <div><i class="bi bi-exclamation-circle"></i> A data de volta deve ser posterior à data de ida.</div>
      }
    </div>
    }
  </div>

  <div class="mb-3">
    <label for="passageiros" class="form-label fw-semibold">
      <i class="bi bi-people me-1"></i> Número de Passageiros
    </label>
    <input id="passageiros" type="number" class="form-control" formControlName="passageiros" min="1" max="5" />
    @if (form.controls['passageiros'].touched && form.controls['passageiros'].invalid) {
    <div class="text-danger small mt-1">
      @if (form.controls['passageiros'].errors?.['required']) {
      <div><i class="bi bi-exclamation-circle"></i> O número de passageiros é obrigatório.</div>
      }
      @if (form.controls['passageiros'].errors?.['min'] || form.controls['passageiros'].errors?.['max']) {
      <div><i class="bi bi-exclamation-circle"></i> Deve estar entre 1 e 5.</div>
      }
    </div>
    }
  </div>

  <div class="mb-3">
    <label for="email" class="form-label fw-semibold">
      <i class="bi bi-envelope me-1"></i> E-mail
    </label>
    <input id="email" type="email" class="form-control" formControlName="email" />
    @if (form.controls['email'].touched && form.controls['email'].invalid) {
    <div class="text-danger small mt-1">
      @if (form.controls['email'].errors?.['required']) {
      <div><i class="bi bi-exclamation-circle"></i> O e-mail é obrigatório.</div>
      }
      @if (form.controls['email'].errors?.['email']) {
      <div><i class="bi bi-exclamation-circle"></i> Insira um e-mail válido.</div>
      }
    </div>
    }
  </div>

  <div class="text-center mt-4">
    <button type="submit" class="btn btn-primary px-4 rounded-pill shadow-sm" [disabled]="form.invalid">
      <i class="bi bi-send me-1"></i> Enviar
    </button>
  </div>
</form>
